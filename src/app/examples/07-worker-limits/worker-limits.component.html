<div class="container">
  <h1>ğŸ“Š LÃ­mites de Workers</h1>
  <p class="subtitle">Ejemplo 07: Test de lÃ­mites y escalabilidad</p>

  <div class="info-box">
    <strong>ğŸ’¡ Â¿QuÃ© demuestra este ejemplo?</strong>
    Descubre cuÃ¡ntos workers puede manejar tu navegador. Prueba diferentes cantidades y observa cuÃ¡ndo se alcanzan los lÃ­mites.
  </div>

  <div class="demo-section">
    <h3>âš™ï¸ ConfiguraciÃ³n</h3>
    <div class="settings">
      <label>
        Cantidad de Workers: <input type="number" [ngModel]="workerCount()" (ngModelChange)="workerCount.set($event)" min="1" max="1000" />
      </label>
      <div class="info-row">
        <span>CPU Cores: <strong>{{ getCPUCores() }}</strong></span>
        <span>Browser: <strong>{{ getBrowserInfo() }}</strong></span>
      </div>
    </div>

    <div class="button-group">
      <button class="btn-create" (click)="createWorker()">â• Crear 1 Worker</button>
      <button class="btn-stress" (click)="stressTest()">ğŸš€ Test de EstrÃ©s</button>
      <button class="btn-terminate" (click)="terminateAll()">ğŸ›‘ Terminar Todos</button>
      <button (click)="clearLogs()">ğŸ—‘ï¸ Limpiar Logs</button>
    </div>
  </div>

  <div class="stats-panel">
    <h3>ğŸ“Š EstadÃ­sticas</h3>
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-label">Workers Activos</div>
        <div class="stat-value">{{ activeCount() }}</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Total Creados</div>
        <div class="stat-value">{{ totalCreated() }}</div>
      </div>
      <div class="stat-card error">
        <div class="stat-label">Errores</div>
        <div class="stat-value">{{ errorCount() }}</div>
      </div>
    </div>
  </div>

  <div class="log-container">
    <div class="log-header">
      <span class="title">ğŸ“‹ Log de Eventos</span>
      <button (click)="clearLogs()">Limpiar</button>
    </div>
    <div class="log-content">
      @if (logs().length === 0) {
        <p class="empty-message">Los logs aparecerÃ¡n aquÃ­</p>
      } @else {
        @for (log of logs(); track $index) {
          <div class="log-entry" [class.info]="log.type === 'info'" [class.success]="log.type === 'success'" [class.error]="log.type === 'error'" [class.warning]="log.type === 'warning'">
            <span class="timestamp">[{{ log.timestamp }}]</span>
            <span class="message">{{ log.message }}</span>
          </div>
        }
      }
    </div>
  </div>
</div>
