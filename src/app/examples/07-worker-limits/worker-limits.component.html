<div class="example-content">
  <h1>{{ texts().title }}</h1>
  <p class="subtitle">{{ texts().subtitle }}</p>

  <app-info-box [title]="texts().infoTitle">
    {{ texts().infoDescription }}
  </app-info-box>

  <app-code-explanation [summaryText]="texts().codeSummary">
    <app-code-section [title]="texts().codeSections?.systemInfo">
      <pre><code>const cpuCores = navigator.hardwareConcurrency || 4;</code></pre>
    </app-code-section>
    <app-code-section [title]="texts().codeSections?.createMultiple">
      <pre><code>const workers = [];

for (let i = 0; i < count; i++) {{'{'}}
    try {{'{'}}
        const worker = new Worker('worker.js');
        workers.push(worker);
    {{ '}' }} catch (error) {{'{'}}
        console.error('Error:', error);
    {{ '}' }}
{{ '}' }}</code></pre>
    </app-code-section>
  </app-code-explanation>

  <div class="system-info-panel">
    <h3>{{ texts().systemInfo?.title }}</h3>
    <div class="system-info-grid">
      <div class="info-item">
        <div class="info-icon">üñ•Ô∏è</div>
        <div class="info-content">
          <div class="info-label">{{ texts().systemInfo?.items?.cpuCores?.label }}</div>
          <div class="info-value">{{ getCPUCores() }}</div>
        </div>
      </div>
      <div class="info-item">
        <div class="info-icon">üìè</div>
        <div class="info-content">
          <div class="info-label">{{ texts().systemInfo?.items?.recommended?.label }}</div>
          <div class="info-value">
            {{ getRecommendedMax() }} {{ texts().systemInfo?.items?.recommended?.suffix }}
          </div>
        </div>
      </div>
      <div class="info-item">
        <div class="info-icon">üåê</div>
        <div class="info-content">
          <div class="info-label">{{ texts().systemInfo?.items?.browser?.label }}</div>
          <div class="info-value">{{ getBrowserInfo() }}</div>
        </div>
      </div>
      <div class="info-item">
        <div class="info-icon">üéØ</div>
        <div class="info-content">
          <div class="info-label">{{ texts().systemInfo?.items?.detected?.label }}</div>
          <div class="info-value">{{ detectedLimit() }}</div>
        </div>
      </div>
    </div>
  </div>

  <div class="auto-detect-panel">
    <h3>{{ texts().autoDetect?.title }}</h3>
    <p class="panel-description">
      {{ texts().autoDetect?.description }}
    </p>
    
    <div class="detect-controls">
      <button class="btn-detect" (click)="autoDetectLimit()" [disabled]="detectionInProgress()">
        {{ texts().autoDetect?.startButton }}
      </button>
      <button class="btn-stop" (click)="stopDetection()" [disabled]="!detectionInProgress()">
        {{ texts().autoDetect?.stopButton }}
      </button>
    </div>

    @if (detectStatusVisible()) {
      <div class="detect-status">
        <div class="status-content">
          <div class="status-icon">üîÑ</div>
          <div class="status-text">
            <strong>{{ texts().autoDetect?.detectingTitle }}</strong>
            <div>{{ detectProgress() }}</div>
          </div>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" [style.width.%]="detectProgressPercent()"></div>
        </div>
      </div>
    }

    @if (detectResultVisible()) {
      <div class="detect-result">
        <h4>{{ texts().autoDetect?.resultTitle }}</h4>
        <div class="result-stats">
          <div class="result-item">
            <span class="result-label">{{ texts().autoDetect?.result?.limitLabel }}</span>
            <span class="result-value">{{ detectResult().finalLimit }} workers</span>
          </div>
          <div class="result-item">
            <span class="result-label">{{ texts().autoDetect?.result?.timeLabel }}</span>
            <span class="result-value">{{ detectResult().detectionTime }}</span>
          </div>
          <div class="result-item">
            <span class="result-label">{{ texts().autoDetect?.result?.comparisonLabel }}</span>
            <span class="result-value">{{ detectResult().vsRecommended }}</span>
          </div>
        </div>
      </div>
    }
  </div>

  <app-stats-panel [title]="texts().statsPanel?.title" [stats]="getStats()"></app-stats-panel>

  <div class="control-panel">
    <h3>{{ texts().manualControls?.title }}</h3>
    
    <div class="input-row">
      <label>{{ texts().manualControls?.countLabel }}</label>
      <input type="number" [ngModel]="workerCount()" (ngModelChange)="workerCount.set($event)" min="1" max="100" />
    </div>

    <div class="button-grid">
      <button class="btn-primary" (click)="createWorker()">{{ texts().manualControls?.buttons?.createOne }}</button>
      <button class="btn-create-multiple" (click)="createMultipleWorkers()">
        {{ createMultipleLabel() }}
      </button>
      <button class="btn-stress" (click)="stressTest()">{{ texts().manualControls?.buttons?.stressTest }}</button>
      <button class="btn-danger" (click)="terminateAll()">{{ texts().manualControls?.buttons?.terminateAll }}</button>
      <button class="btn-secondary" (click)="clearLogs()">{{ texts().manualControls?.buttons?.clearLogs }}</button>
    </div>
  </div>

  <app-log-panel 
    [logs]="logs()" 
    [title]="texts().logPanel?.title"
    [emptyMessage]="texts().logPanel?.empty"
    (clear)="clearLogs()">
  </app-log-panel>
</div>

