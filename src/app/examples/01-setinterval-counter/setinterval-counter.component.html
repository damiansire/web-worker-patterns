<div class="example-content">
  <h1>{{ texts().title }}</h1>
  <p class="subtitle">{{ texts().subtitle }}</p>

  <app-info-box [title]="texts().infoTitle">
    {{ texts().infoDescription }}
  </app-info-box>

  <app-code-explanation [summaryText]="texts().codeSummary">
    <app-code-section
      [title]="texts().codeSections.createCounter"
      [code]="codeSnippets.vanillaCreateCounter"
      languageClass="language-javascript"
    />
    <app-code-section
      [title]="texts().codeSections.setInterval"
      [code]="codeSnippets.vanillaSetInterval"
      languageClass="language-javascript"
    />
    <app-code-section
      [title]="texts().codeSections.clearInterval"
      [code]="codeSnippets.vanillaClearInterval"
      languageClass="language-javascript"
    />
    <app-code-section
      [title]="texts().codeSections.whyImportant"
      [code]="codeSnippets.vanillaWhyImportant"
      languageClass="language-javascript"
    />
    <app-code-section
      tech="angular"
      [title]="texts().codeSections.angularImplementation"
      [code]="codeSnippets.angularComponent"
      languageClass="language-typescript"
    />
  </app-code-explanation>

  <div class="demo-section">
    <h3>{{ texts().demo.title }}</h3>
    
    <div class="counter-display">
      <div class="counter-value">{{ counter() }}</div>
      <p class="counter-label">{{ texts().demo.counterLabel }}</p>
    </div>

    <div class="controls">
      <button 
        class="btn-start" 
        (click)="startCounter()" 
        [disabled]="isRunning()"
      >
        {{ texts().demo.startButton }}
      </button>
      <button 
        class="btn-pause" 
        (click)="stopCounter()" 
        [disabled]="!isRunning()"
      >
        {{ texts().demo.pauseButton }}
      </button>
      <button 
        class="btn-reset" 
        (click)="resetCounter()"
      >
        {{ texts().demo.resetButton }}
      </button>
    </div>

    <div class="speed-control">
      <label>{{ texts().demo.speedLabel }}:</label>
      <input 
        type="range" 
        [ngModel]="speed()"
        (ngModelChange)="onSpeedChange($event)"
        min="100" 
        max="2000" 
        step="100"
      >
      <span class="speed-value">{{ speed() }} {{ texts().demo.speedUnit }}</span>
    </div>
  </div>

  <div class="thread-visualization">
    <h3>{{ texts().threadView.title }}</h3>
    <p class="thread-description">{{ texts().threadView.description }}</p>
    
    <div class="thread-diagram">
      <!-- Cola de tareas -->
      <div class="task-queue-section">
        <div class="section-label">{{ texts().threadView.queueLabel }}</div>
        <div class="task-queue">
          @for (task of taskQueue(); track task.id) {
            <div class="task-item task-queue-item" [attr.data-type]="task.type">
              <span class="task-icon">‚è±Ô∏è</span>
              <span class="task-label">{{ texts().threadView.taskTypes[task.type] }}</span>
            </div>
          }
          @if (taskQueue().length === 0) {
            <div class="task-queue-empty">{{ texts().threadView.queueEmpty }}</div>
          }
        </div>
      </div>

      <!-- Flecha de direcci√≥n -->
      <div class="arrow-container">
        <div class="arrow">‚Üí</div>
      </div>

      <!-- Hilo principal procesando -->
      <div class="main-thread-section">
        <div class="section-label">{{ texts().threadView.mainThreadLabel }}</div>
        <div class="main-thread">
          @if (processingTask(); as task) {
            <div class="task-item task-processing" [attr.data-type]="task.type">
              <span class="task-icon">‚öôÔ∏è</span>
              <span class="task-label">{{ texts().threadView.taskTypes[task.type] }}</span>
              <div class="processing-indicator">
                <div class="spinner-dot"></div>
                <div class="spinner-dot"></div>
                <div class="spinner-dot"></div>
              </div>
            </div>
          } @else {
            <div class="thread-idle">
              <span class="idle-icon">üò¥</span>
              <span>{{ texts().threadView.idleLabel }}</span>
            </div>
          }
        </div>
      </div>

      <!-- Resultado -->
      <div class="arrow-container">
        <div class="arrow">‚Üí</div>
      </div>

      <div class="result-section">
        <div class="section-label">{{ texts().threadView.resultLabel }}</div>
        <div class="result-display">
          <div class="result-icon">‚úÖ</div>
          <div class="result-text">{{ texts().threadView.resultText }}</div>
        </div>
      </div>
    </div>
  </div>

  <app-info-box [title]="texts().noteTitle">
    {{ texts().noteDescription }}
  </app-info-box>
</div>

