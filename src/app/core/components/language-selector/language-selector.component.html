<div
  class="language-inline"
  role="group"
  [attr.aria-label]="language.t('language.selectorTitle')"
>
  @for (lang of orderedLanguages(); track lang.code) {
    <button
      type="button"
      (click)="selectLanguage(lang.code)"
      [class.active]="isSelected(lang.code)"
      [attr.aria-pressed]="isSelected(lang.code)"
      [attr.aria-label]="language.t(`language.${lang.code === 'es' ? 'spanish' : lang.code === 'en' ? 'english' : 'portuguese'}`)"
    >
      <span class="flag" aria-hidden="true">{{ flagEmoji[lang.code] }}</span>
      <span class="code">{{ codeLabel(lang.code) }}</span>
    </button>
  }
</div>

<div class="language-overlay" *ngIf="selectorOpen()">
  <div class="language-dialog">
    <h2>{{ language.t('language.selectorTitle') }}</h2>
    <p>{{ language.t('language.selectorDescription') }}</p>

    <div class="language-options">
      @for (lang of orderedLanguages(); track lang.code) {
        <button type="button" (click)="selectLanguage(lang.code)">
          <span class="native">{{ lang.nativeLabel }}</span>
          <span class="label">{{ language.t(`language.${lang.code === 'es' ? 'spanish' : lang.code === 'en' ? 'english' : 'portuguese'}`) }}</span>
        </button>
      }
    </div>

    <button
      type="button"
      class="close-button"
      (click)="closeSelector()"
      *ngIf="language.isLanguageSelected()"
    >
      {{ language.t('language.closeButton') }}
    </button>
  </div>
</div>

