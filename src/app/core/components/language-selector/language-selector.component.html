<div class="language-toggle" *ngIf="language.isLanguageSelected() && !selectorOpen()">
  <button type="button" (click)="openSelector()">
    <span class="globe" aria-hidden="true">üåê</span>
    <span class="label">{{ language.t('language.changeButton') }}</span>
    <span class="current" *ngIf="currentLanguage() as lang">{{ lang.nativeLabel }}</span>
  </button>
</div>

<div class="language-overlay" *ngIf="selectorOpen()">
  <div class="language-dialog">
    <h2>{{ language.t('language.selectorTitle') }}</h2>
    <p>{{ language.t('language.selectorDescription') }}</p>

    <div class="language-options">
      @for (lang of language.languages; track lang.code) {
        <button type="button" (click)="selectLanguage(lang.code)">
          <span class="native">{{ lang.nativeLabel }}</span>
          <span class="label">{{ language.t(`language.${lang.code === 'es' ? 'spanish' : lang.code === 'en' ? 'english' : 'portuguese'}`) }}</span>
        </button>
      }
    </div>

    <button
      type="button"
      class="close-button"
      (click)="closeSelector()"
      *ngIf="language.isLanguageSelected()"
    >
      {{ language.t('language.closeButton') }}
    </button>
  </div>
</div>

