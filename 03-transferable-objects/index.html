<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>03 - Objetos Transferibles</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>🚀 Objetos Transferibles</h1>
        <p class="subtitle">Ejemplo 03: Transferencia vs. Clonación de datos</p>

        <div class="info-box">
            <strong>💡 ¿Qué demuestra este ejemplo?</strong>
            Los objetos transferibles (como <code>ArrayBuffer</code>) pueden "transferir" su propiedad al worker 
            en lugar de ser clonados. Esto es muchísimo más rápido para grandes volúmenes de datos, 
            pero el objeto original queda inaccesible en el hilo principal.
        </div>

        <div class="demo-section">
            <h3>🖼️ Procesamiento de Imagen</h3>
            
            <div class="size-selector">
                <label for="sizeSelect">Tamaño de los datos:</label>
                <select id="sizeSelect">
                    <option value="1">1 MB (256x256 imagen)</option>
                    <option value="4">4 MB (512x512 imagen)</option>
                    <option value="16" selected>16 MB (1024x1024 imagen)</option>
                    <option value="64">64 MB (2048x2048 imagen)</option>
                </select>
            </div>

            <div class="button-group">
                <button class="btn-transfer" id="transferBtn">
                    ⚡ Con Transferencia<br>
                    <small style="font-size: 11px; font-weight: normal;">(Transfer ownership)</small>
                </button>
                <button class="btn-clone" id="cloneBtn">
                    📋 Con Clonación<br>
                    <small style="font-size: 11px; font-weight: normal;">(Structured clone)</small>
                </button>
            </div>

            <div class="spinner" id="spinner"></div>
            
            <div class="canvas-container" id="canvasContainer"></div>
            
            <div id="result"></div>
        </div>

        <div class="comparison" id="comparison" style="display: none;">
            <div class="comparison-item transfer">
                <div class="label">Con Transferencia</div>
                <div class="value" id="transferTime">-</div>
                <div class="unit">milisegundos</div>
            </div>
            <div class="comparison-item clone">
                <div class="label">Con Clonación</div>
                <div class="value" id="cloneTime">-</div>
                <div class="unit">milisegundos</div>
            </div>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>

